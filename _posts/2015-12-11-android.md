---
layout: post
title:  "Android 基础"
date:   2016-1-26 15:08:05
categories: Android
excerpt: 
---

* content
{:toc}

### Android 基础知识点： 

---

#### android:layout_gravity和android:gravity属性的区别 ：

* gravity的中文意思就是"重心"，就是表示view横向和纵向的停靠位置;

* android:gravity：是对view控件本身来说的，是用来设置view本身的内容应该显示在view的什么位置,默认值是左侧。

* android:layout_gravity：是相对于包含改元素的父元素来说的，设置该元素在父元素的什么位置;

* 比如TextView: android:layout_gravity表示TextView在界面上的位置，android:gravity表示TextView文本在TextView的什么位置，默认值是左侧.

---

#### 设置颜色

        Android 代码中使用Color工具类 方法parseColor解析
        view.setBackgroundColor(Color.parseColor("#365663"));
        
---

#### 添加分割线的方法

* 自己在drawable下新建xml文件，然后在textView引用
        
        实线
        <?xml version="1.0" encoding="utf-8"?>
        <shape xmlns:android="http://schemas.android.com/apk/res/android"
            android:shape="line" >
            
            <stroke 
                android:color="#d4d4d4" />
            
        </shape>
        
        虚线
        <?xml version="1.0" encoding="utf-8"?>  
        <shape xmlns:android="http://schemas.android.com/apk/res/android"  
            android:shape="line" >  
            <stroke  
                android:dashGap="3dp"  
                android:dashWidth="6dp"  
                android:width="1dp"  
                android:color="#63a219" />  
            <!-- 虚线的高度 -->  
            <size android:height="1dp" />  
        </shape>  
        
        <TextView
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:background="@drawable/line" />

* 使用view

        <View 
           android:id="@+id/tab_line"
           android:layout_width="match_parent"
           android:layout_height="1dp"
           android:background="#d4d4d4"
           android:layout_alignParentBottom="true"/>
 
* 添加竖线

        <ImageView
            android:layout_width="1dp"
            android:layout_height="match_parent"
            android:layout_marginTop="1dp"
            android:background="#ebebeb"
            android:layout_gravity="center_horizontal" />
            
---

#### listView相关

* 要想让ListView显示底部的分割线，需要同时满足以下的选项:
        1）mFooterDividersEnabled 必须为true，其默认值是true的
        2)ListView的高度必须为match_parent。

* listview的应用中很常见的一种便是item的布局不是简单的一种，对于有多种布局的情况，一般需要重写适配器adapter

        思路为：
        1. 首先为不同的item类型编写布局layout文件和class类文件
        2. 选好用来传递数据给适配器的工具,常见的有HashMap<String, Object> map、ArrayList<Message> moreItemList;如：
            使用message来传递信息：            
            moreItemList = new ArrayList<Message>();
            MoreItem free_collect = new MoreItem("免费收录", R.drawable.free_collect, R.drawable.tag_more);
            Message collect = new Message();
            collect.obj = free_collect;     //obj用来传递数据
            collect.what = img_text;    //what作为标记位
            moreItemList.add(collect);
            
            取信息：
            Message msg = moreItemList.get(position);
            holderText.text.setText(msg.obj.toString());
            holderImageText.image.setImageResource(((MoreItem)msg.obj).getImageId());
            
        3. 初始化数据
        4. MoreItemAdapter adapter = new MoreItemAdapter(MoreActivity.this, moreItemList);
            moreListView.setAdapter(adapter);

---

#### intent 传递图片
        
        #发送图片
        Intent intent = new Intent(this.mContext, AccountDetailActivity.class);
        holder.account_image.setDrawingCacheEnabled(true);
        intent.putExtra("account_img", holder.account_image.getDrawingCache());
        this.mContext.startActivity(intent);
        
        #接收图片
        Bitmap bitmap = (Bitmap) getIntent().getParcelableExtra("account_img");
        Matrix matrix = new Matrix();//放大图片
        matrix.postScale(1.2f, 1.2f);
        Bitmap bm = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);
        accountImg.setImageBitmap(bm);
        
---

#### 颜色

        android 定义颜色color时6位或8位值的区别
    　　6位（#000000）就是RGB值
    　　8位（#1e000000）头两位是透明度，后6位是RGB值，00是完全透明，ff是完全不透明，比较适中的透明度值是 1e

---

#### 点击事件的设置

        LinearLayout category;
        category.setClickable(true);//使能点击,false则不能点击
        category.setOnClickListener(new OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent intent = new Intent(mContext, ChildCatsActivity.class);
                mContext.startActivity(intent);
            }
        });

---

#### 点击改变imageView的图片资源ID

        like.setOnClickListener(new OnClickListener() {
			
			@Override
			public void onClick(View v) {
				Integer integer = (Integer) like.getTag();
				integer = integer == null ? 0 : integer;
				switch(integer) {
				case R.drawable.like_normal:
					like.setImageResource(R.drawable.like_select);
					like.setTag(R.drawable.like_select);
					break;
				case R.drawable.like_select:
					like.setImageResource(R.drawable.like_normal);
					like.setTag(R.drawable.like_normal);
					break;
				default:
					like.setImageResource(R.drawable.like_normal);
					like.setTag(R.drawable.like_normal);
					break;
				}
			}
		});

---

#### 复制信息到系统剪贴板

        // 从API11开始android推荐使用android.content.ClipboardManager
        // 为了兼容低版本我们这里使用旧版的android.text.ClipboardManager，虽然提示deprecated，但不影响使用。
        ClipboardManager cm = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);
        // 将文本内容放到系统剪贴板里。
        cm.setText(tvMsg.getText());
        Toast.makeText(this, "复制成功，可以发给朋友们了。", Toast.LENGTH_LONG).show();

---

#### 打开其他应用，如微信等

        Intent intent = new Intent();

        ComponentName cmp = new ComponentName("com.sina.weibo","com.sina.weibo.EditActivity");
        intent.setAction(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        intent.setComponent(cmp);
        startActivityForResult(intent, 0);
        
        几个常用的Package命令：

        新浪微博（编辑界面）：com.sina.weibo     com.sina.weibo.EditActivity

        腾讯微博（编辑界面）：com.tencent.WBlog    com.tencent.WBlog.activity.MicroblogInput

        微信：                com.tencent.mm      com.tencent.mm.ui.LauncherUI
        QQ:                   com.tencent.mobileqq com.tencent.mobileqq.activity.HomeActivity

---

#### ScrollView的简单应用

        <ScrollView 
            android:layout_width="match_parent" xmlns:android="http://schemas.android.com/apk/res/android"
            android:layout_height="match_parent"
            android:scrollbars="none"   //滚动条隐藏
            xmlns:tools="http://schemas.android.com/tools"></ScrollView>

---

#### 获取手机的imei码

        在manifest.xml文件中要添加 <uses-permission android:name="android.permission.READ_PHONE_STATE" />
        TelephonyManager tm = (TelephonyManager) this.getSystemService(TELEPHONY_SERVICE);  
        String imei = tm.getDeviceId();//String     

---

#### 项目中用到的开源插件

* [ImageLoader](https://github.com/nostra13/Android-Universal-Image-Loader)图片加载

* [PagerSlidingTabStrip](https://github.com/astuetz/PagerSlidingTabStrip)水平滚动导航栏

* [okhttp](https://github.com/square/okhttp)网络请求

---


> 参考文章：

---

### 结语：

坚持每天进步一点点...

---